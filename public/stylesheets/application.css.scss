@import "compass/reset";
@import "compass/utilities";
@import "compass/utilities/sprites";
@import "compass/css3/background-size";

@import "stickers/*.png";
@import "stickers-retina/*.png";
@include all-stickers-sprites(true);
$image-list: (contact, blogs, jobs, follow, technologies, spirit);  // TODO(ssaunier): is there a way to retrieve this list programatically?

@mixin retina-sprite($name, $sprites, $sprites2x, $percent) {

  $spritePath: sprite-path($sprites);
  $spriteWidth: image-width($spritePath);
  $spriteHeight: image-height($spritePath);
  $width: image-width(sprite-file($sprites, $name));
  $height: image-height(sprite-file($sprites, $name));

  @include background-size(ceil($spriteWidth * $percent) ceil($spriteHeight * $percent));
  width: ceil($width * $percent);
  height: ceil($height * $percent);
  background-position: 0 floor(nth(sprite-position($sprites, $name), 2) * $percent);

  // Retina
  @media (#{-webkit-min-device-pixel-ratio}: #{1.5}), (#{min--moz-device-pixel-ratio}: #{1.5}), (#{-o-min-device-pixel-ratio}: #{3 / 2}), (#{min-device-pixel-ratio}: #{1.5}) {
    & {
      $position: sprite-position($sprites, $name);
      $position2x: sprite-position($sprites2x, $name);

      @if ($position != $position2x / 2) {
        $xpos: nth(sprite-position($sprites2x, $name), 1) * $percent / 2;
        $ypos: nth(sprite-position($sprites2x, $name), 2) * $percent / 2;
        background-position: $xpos $ypos;
      }

      background-image: sprite-url($sprites2x);
    }
  }
}

@mixin border-radius($size) {
  -khtml-border-radius: $size;
  -webkit-border-radius: $size;
  -moz-border-radius: $size;
  border-radius: $size;
}

@mixin box-shadow($params) {
  -webkit-box-shadow: $params;
  -moz-box-shadow: $params;
  box-shadow: $params;
}

.stickers-sprite {
  display: block;
  margin: auto;
  margin-bottom: 12px;
  border: 4px solid rgb(249,249,249);
  text-indent: -9999px;
  @include border-radius(6px);
}

.stickers-sprite:hover {
  @include box-shadow(1px 2px 5px #aaaaaa);
}

@each $selector in $image-list {
  .stickers-#{$selector} {
    @include retina-sprite(#{$selector}, $stickers-sprites, $stickers-retina-sprites, 1);
  }

  .stickers-#{$selector}:hover, .stickers-#{$selector}.#{$selector}_hover, .stickers-#{$selector}.#{$selector}-hover {
    @include retina-sprite(#{$selector}_hover, $stickers-sprites, $stickers-retina-sprites, 1);
  }
}

@media (min-width: 768px) and (max-width: 979px) { 
  @each $selector in $image-list {
    .stickers-#{$selector} {
      @include retina-sprite(#{$selector}, $stickers-sprites, $stickers-retina-sprites, 228 / 300);
    }

    .stickers-#{$selector}:hover, .stickers-#{$selector}.#{$selector}_hover, .stickers-#{$selector}.#{$selector}-hover {
      @include retina-sprite(#{$selector}_hover, $stickers-sprites, $stickers-retina-sprites, 228 / 300);
    }
  }
}


body {
  font-family: "gothamrnd_book";
  background: url(data:image/png;base64,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);
}

$grey: #3d3d3d;

// Top navigation menu
#main-navbar {
  font-family: 'museo500';
  color: $grey;
  font-size: 1.2em;

  .brand {
    margin-left: -40px; // Align applidget logo to the left side of the grid.
  }

  .navbar-inner, .active a {
    background: transparent;
    border: none;
    @include box-shadow(none);
  }
  .active a {
    color: black;
  }
  .link a {
    padding-left: 0;
    padding-right: 0.3em;
  }
  .link a:after {
    content: "/";
    margin: 0 0.5em;
    color: booken($grey, 50%);
  }
  .link.last a:after {
    content: "";
    margin: 0;
  }
  .link.last a {
    padding-right: 0;
  }
}

.container {
  .shadow-up {
    margin-top: -36px;
  }
  
  .shadow-down {
    position: absolute;
    bottom: -54px;
    width: 100%;
  }
  
  .v-bottom {
    img { 
      vertical-align: bottom;
    }
  }
}

.jumbotron {
  position: relative;
  padding: 20px 0;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 3px rgba(0,0,0,.4), 0 0 30px rgba(0,0,0,.075);
  
  h1 {
    color: #252525;
    font-family: 'museo500';
    font-size: 3.7em;
    font-weight: normal;
    line-height: 1;
    margin-top: 40px;
    margin-bottom: 42px;
  }
  
  p {
    font-size: 24px;
    font-weight: 300;
    line-height: 30px;
    margin-bottom: 30px;
  }
  
  a:hover {
    color: #fff;
  }
  
  .btn {
    padding: 22px 54px;
    font-size: 21px;
    font-weight: normal;
    color: #fff; /* redeclare to override the `.jumbotron a` */
    border-width: 0px 1px 1px 0px;
    border-style: solid;
    @include border-radius(6px);
  }

  .btn:hover, .btn:active,.btn.active {
    background-position: 0 -64px;
    text-shadow: 1px 2px 1px rgba(0, 0, 0, 0.2);
  }
  
  .container {
    position: relative;
    z-index: 2;
  }
}

.jumbotron:after {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  opacity: .4;
}

  
.btn-red {
  color:#fff;
  text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.5);
  background-color:#d64727;
  *background-color:#d64727;
  background-image:-webkit-gradient(linear,0 0,0 100%,from(#de552f),to(#d64727));
  background-image:-webkit-linear-gradient(top,#de552f,#d64727);
  background-image:-o-linear-gradient(top,#de552f,#d64727);
  background-image:linear-gradient(to bottom,#de552f,#d64727);
  background-image:-moz-linear-gradient(top,#de552f,#d64727);
  background-repeat:repeat-x;
  border-color:#d64727 #d64727 #000;
  border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.2) rgba(0,0,0,0.2) rgba(0,0,0,0.1);
  filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffde552f',endColorstr='#ffd64727',GradientType=0);
  filter:progid:dximagetransform.microsoft.gradient(enabled=false);
}

.btn-red:hover,.btn-red:active,.btn-red.active,.btn-red.disabled,.btn-red[disabled] {
  background-color:#d54124;
  *background-color:#d54124;
}

#nav { padding-bottom: 20px; }

#we-make-web {
  background: url('/images/gradient-background-glow.png') repeat-y top center;
  
  p {
   margin-top: 23px;
   margin-bottom: 35px;
  }
}

@media(min-width: 980px) {
  #main-navbar {
    margin-top: 1em;
    .nav-collapse {
      margin-top: 1.5em;
      float: right;
    }    
  }
}

/* Tablet to desktop
------------------------- */
@media (min-width: 768px) and (max-width: 980px) {
  .jumbotron {
    margin-top: -20px; /* Offset bottom margin on .navbar */
    
    h1 {
      font-size: 3em;
    }
  }
  
  .container {
    .shadow-down {
      bottom: -47px;
    }
  }
}

/* Tablet
------------------------- */
@media (max-width: 767px) {
  .jumbotron {
    padding: 20px;
    margin-top:   -20px; /* Offset bottom margin on .navbar */
    margin-right: -20px;
    margin-left:  -20px;
    
    h1 {
      font-size: 2.8em;
    }
  }
}

@media (min-width: 481px) and (max-width: 767px) {
  .container {
    .shadow-down {
      bottom: -45px;
    }
  }
}

/* Landscape phones
------------------------- */
@media (max-width: 480px) {
  .jumbotron {
    h1 {
      font-size: 2.3em;
    }
    
    p, .btn {
      font-size: 20px;
    }
  }
  
  .container {
    .shadow-down {
      bottom: -40px;
    }
  }
}

// Fonts
@font-face {
  font-family: 'gothamrnd_book';
  src: url('../fonts/gothamrnd-book.eot');
  src: url('../fonts/gothamrnd-book.eot?#iefix') format('embedded-opentype'),
       url('../fonts/gothamrnd-book.woff') format('woff'),
       url('../fonts/gothamrnd-book.ttf') format('truetype'),
       url('../fonts/gothamrnd-book.svg#gothamrnd_book') format('svg');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'museo500';
  src: url('../fonts/museo500-webfont.eot');
  src: url('../fonts/museo500-webfont.eot?#iefix') format('embedded-opentype'),
       url('../fonts/museo500-webfont.woff') format('woff'),
       url('../fonts/museo500-webfont.ttf') format('truetype'),
       url('../fonts/museo500-webfont.svg#museo500') format('svg');
  font-weight: normal;
  font-style: normal;
}
